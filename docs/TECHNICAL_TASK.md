Техническое задание

1. Введение
1.1 Назначение документа
Этот документ описывает функциональные и нефункциональные требования к прикладной системе «Event Registry», предназначенной для регистрации мероприятий, участников и учета посещаемости. ТЗ является основой для разработки, тестирования и приемки системы.

1.2 Область применения
Система будет использоваться на компьютерах (Windows 7 и выше) для автоматизации трёх основных ролей: Организатор, Участник, Регистратор, с синхронным хранением данных в локальной СУБД MS SQL Express.

1.3 Определения и сокращения

| Категория                 | Требование                                                      |
| ------------------------- | --------------------------------------------------------------- |
| Производительность        | UI-ответ ≤ 150 мс при данных до 5 000 записей                   |
| Надёжность                | Авто-подключение к СУБД при разрыве                             |
| Безопасность              | Только аутентификация `Integrated Security`; пароль не хранится |
| Удобство интерфейса       | Единый визуальный стиль, ToolTip на всех полях ввода            |
| Поддержка масштабирования | Возможность перехода на SQL Server Standard без изменений DAL   |


2. Общая характеристика
2.1 Цели системы
· Уменьшить время регистрации мероприятия, участника и явки на 50%.

· Исключить дублирование и обеспечить консистентность данных.

· Предоставить простой интерфейс для трех ролей.

2.2 Пользователи системы
· Организатор — создаёт, редактирует и удаляет мероприятия.

· Участник — подписывается на участие, вводит ФИО, email.

· Регистратор — отмечает явку участника на мероприятии.

2.3 Рабочее окружение
Операционная система: Windows 7/8/10/11.

Сервер БД: MS SQL Server Express локально.

Клиент: WPF-приложение на .NET Framework 4.7.2 (C#), Visual Studio.

3. Требования к функциональности
3.1 Общие требования
· Многооконный интерфейс: переходы между окнами без перезапуска главного приложения.

· Стилизация кнопок, списков, шрифтов — единая тема через App.xaml.

· Данные отображаются через ObservableCollection, обновления — в реальном времени.

3.2 Функции Организатора
[F1] Создание мероприятия: ввод Title (строка), Date (DatePicker, дефолт — сегодня), Format (комбобокс).

[F2] Удаление выбранного мероприятия.

[F3] Валидация: Title + Date должны быть уникальны.

3.3 Функции Участника
[F4] Регистрация участника: ввод Name, Email; опционально — флаг IsConfirmed.

[F5] Удаление строки участника.

[F6] Валидация Email по регулярному выражению, соответствующему RFC-5322.

3.4 Функции Регистратора
[F7] Отметка явки: выбор участника и события, сохранение IsPresent = true.

[F8] Удаление записи о явке.

[F9] Проверка допустимости записи (участник + событие уже сохранены).

4. Нефункциональные требования

| Категория                 | Требование                                                      |
| ------------------------- | --------------------------------------------------------------- |
| Производительность        | UI-ответ ≤ 150 мс при данных до 5 000 записей                   |
| Надёжность                | Авто-подключение к СУБД при разрыве                             |
| Безопасность              | Только аутентификация `Integrated Security`; пароль не хранится |
| Удобство интерфейса       | Единый визуальный стиль, ToolTip на всех полях ввода            |
| Поддержка масштабирования | Возможность перехода на SQL Server Standard без изменений DAL   |


5. Интерфейс пользователя
· Заголовок красный, кнопка «X» — закрыть.

· Основные кнопки (Добавить, Удалить, Назад) — одинаковой ширины (>100px), Padding=10.

· Поля TextBox с ToolTip и подсветкой обязательных полей.

Пример (App.xaml):

xml

<Style TargetType="Button">
  <Setter Property="Margin" Value="5"/>
  <Setter Property="MinWidth" Value="100"/>
  <Setter Property="Padding" Value="10,5"/>
</Style>

· Для списка используется ListBox с ItemTemplate, отображающие объекты c помощью ToString().

6. Требования к данным
6.1 Схема БД

sql

CREATE TABLE Events (
  Id INT IDENTITY PRIMARY KEY,
  Title NVARCHAR(200) NOT NULL,
  Date DATE NOT NULL,
  Format NVARCHAR(50) NOT NULL,
  UNIQUE (Title, Date)
);

CREATE TABLE Participants (
  Id INT IDENTITY PRIMARY KEY,
  Name NVARCHAR(100) NOT NULL,
  Email NVARCHAR(200) NOT NULL UNIQUE,
  IsConfirmed BIT NOT NULL
);

CREATE TABLE Attendances (
  Id INT IDENTITY PRIMARY KEY,
  ParticipantId INT NOT NULL REFERENCES Participants(Id) ON DELETE NO ACTION,
  EventId        INT NOT NULL REFERENCES Events(Id) ON DELETE NO ACTION,
  IsPresent BIT NOT NULL,
  UNIQUE (ParticipantId, EventId)
);

6.2 Целостность данных
· Уникальность Title+Date, Email, (ParticipantId+EventId).

· Удаление Event/Participant не должно удалять записи посещений заранее (ON DELETE NO ACTION).

7. Состав и интерфейс слоёв
7.1 Слой доступа (DAL)
· Отделён через интерфейсы:

csharp

interface IEventRepository {
  Task<IEnumerable<Event>> GetAllAsync();
  Task AddAsync(Event e);
  Task<bool> ExistsAsync(string title, DateTime date);
}
· Строка подключения берётся из ConfigurationManager.
· Используется System.Data.SqlClient.

7.2 UI-слой (WPF MVVM)
· ViewModels с ObservableCollection и ICommand.
· Привязка: XAML → VM → DAL.

7.3 Библиотеки
· .NET Framework 4.7.2
· CommunityToolkit.Mvvm — для RelayCommand, ObservableProperty.

8. План реализации

| Этап                       | Срок       | Артефакт                                  |
| -------------------------- | ---------- | ----------------------------------------- |
| Утверждение ТЗ             | Недели 1–1 | Датированное ТЗ                           |
| Проектирование архитектуры | Недели 1–2 | ER‑диаграмма, UML ViewModels              |
| Разработка DAL             | Недели 2–3 | Unit-тесты, покрытие ≥60 %                |
| Реализация UI              | Недели 3–5 | Инкременты UI + MVVM                      |
| Интеграция и тесты         | Недели 5–6 | Интеграционные и автоматизированные тесты |
| Приёмка заказчиком         | Недели 6–7 | Акт приёмки & тестовый отчёт              |


9. Критерии приемки

· Успешное выполнение всех сценариев (создание, регистрация, явка).

· Отсутствие критичных ошибок (SEV1 = 0).

· Производительность и иногда соединения соответствуют TЗ.

· Документация: руководство пользователя + разработчика + администрирование.

· Подписание акта сдачи.

