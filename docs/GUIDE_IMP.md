Документацию для внедрения

1. Требования к среде (подготовительный этап)
· ОС: Windows 7 и выше

· .NET Framework: 4.7.2 должен быть уже установлен либо будет предложен к установке

· База данных: MS SQL Server Express или SQL Server LocalDB

· Пользователь: учетная запись с правами на создание БД и запись в неё

· Доступ к папке установки: права записи и чтения

2. Способы установки (варианты)
2.1 XCopy-развёртывание
Универсальный способ: скопировать с билд-места (bin\Release\) все файлы (.exe, .dll, App.config) в целевую папку.

Плюсы: просто, не нужен инсталлятор.
Минусы: нет автоматизации создания ярлыков, учёт версий, откат и безопасность не обеспечены

2.2 Установочный пакет MSI/Windows Installer
Сборка *.msi можно выполнить через:

· проект Setup в VS,

· WiX,

· InstallShield

Плюсы: удобство установки/удаления, ярлыки, полный контроль.
Минусы: требуется настройка проекта установки

2.3 ClickOnce-развёртывание
Простой выпуск и автоматические обновления.
Плюсы: кнопка Install, автоматическое обновление, rollback.
Минусы: меньше контроля над установкой по сравнению с MSI


3. Инструкция по установке (рекомендован XCopy, доп. MSI/ClickOnce)
Шаг 1: копирование файлов

1.Скопируйте папку bin\Release\ в целевое место (например, C:\Program Files\EventRegistry\).
2.Убедитесь, что рядом с EventRegistry.UI.exe находятся EventRegistry.UI.exe.config.

Шаг 2: проверка среды

1.Запустите EventRegistry.UI.exe.
2.Если запросит установку .NET – подтвердите.
3.При отсутствии базы — приложение автоматически её создаст.

4. Настройка подключения к базе данных
4.1 Конфигурационный файл (App.config)

<connectionStrings>
  <add name="DefaultConnection"
       connectionString="Data Source=.;Initial Catalog=EventRegistry;Integrated Security=True"/>
</connectionStrings>

· Data Source: имя сервера (., (localdb)\MSSQLLocalDB, .\SQLEXPRESS)

· Initial Catalog: название БД может быть изменено

· Integrated Security: True для windows-auth

Настройку можно менять вручную или через UI (если реализовано в будущем).

4.2 Создание схемы БД
При первом запуске приложение:

1.Проверяет наличие БД,
2.Если отсутствует — создаёт её и таблицы по схеме из секции 2 ТЗ.

5. Проверка успешной установки

1.Запустите приложение.
2.Выберите любую роль (Организатор/Участник/Регистратор).
3.Выполните тестовые действия:
· создайте мероприятие (Организатор);
· зарегистрируйте участника;
· отметьте явку.
4.Перейдите на диск и убедитесь, что БД файл присутствует.
5.Проверьте логи ошибок (если применялось логирование).

6. Рекомендации на этапе внедрения
· Запустите процедуру установки на тестовом ПК и убедитесь, что БД создаётся.

· Осуществите пилотную установку у 2–3 ключевых пользователей.

· Проведите короткое пользовательское обучение (10–20 минут) по ролям.

· Предоставьте ссылку на руководство пользователя и снимите initial feedback.

7. Поддержка и обновление системы
7.1 Обновление XCopy
Просто скопируйте новые файлы — замените старые, не затрагивая App.config.

7.2 Обновление MSI/ClickOnce
· MSI: создайте новый пакет, распространяйте через GPO или ручную установку.

· ClickOnce: загрузите новую версию на сервер или сетевой каталог; клиентская сборка предложит автоматическое обновление.

8. Документирование (ГОСТ/ISO)
· Все конфигурационные изменения фиксируются в таблице установки (по ГОСТ Р ИСО 30302, раздел 5)

· дата
· версия ПО
· ответственный
· комментарий (что установлено, как)

· Пошаговые инструкции составляются в виде Установка — Миграция — Перепроверка (стандарт ISO/IEC 26514:2008)

9. Защита и безопасность
· Развёртка через MSI и ClickOnce автоматически вписывается в систему аудита Windows.

· XCopy-версия требует контроля прав доступа (права NTFS).

· Перед установкой убедитесь, что антивирус/брандмауэр разрешают запуск EXE.

10. Диагностика ошибок
При ошибке соединения:

· Убедитесь, что SQL Server запущен.

· Проверьте строку Data Source в App.config.

· Запустите SqlLocalDB.exe start MSSQLLocalDB (для LocalDB).

При сообщении о несовпадении версии:

· Загрузите корректную версию .exe и .dll без конфликтов.

